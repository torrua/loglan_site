{% extends 'base.html' %}

{% block title %}
    Search
{% endblock %}

{% block style %}
	.lt > span {
		font-size: 24px;
		font-weight: bold;
	}
	.btn-group {
		margin-left: 10px;
	}
	.btn-outline-secondary.custom-btn {
		border-color: #ced4da;
		color: #ced4da;
	}
	wl, .word_line {
		font-weight: bold;
		display: block;
	}
	.w_name{
		font-weight: bold;
	}
	m, d, w, us {
		display: block;
	}
	ms, .meanings > *:not(:first-child) {
		margin-top: 10px;
	}
	ms, .meanings > * {
		margin-left: 10px;
	}
	afx, .m_afx {
		color: #007F00;
		font-style: italic;
	}
	o, .m_origin, .w_origin {
		color: #007F00;
		font-style: italic;
	}
	dl, de, .definition {
		margin-top: 5px;
		text-align: justify;
		max-width: 90%;
		min-width: 400px;
	}
	dl, .definition.log {
		margin-left: 20px;
	}
	du, .du {
		font-weight: bold;
	}
	us, .used_in {
		margin-top: 5px;
		min-width: 400px;
	}
	k {
		color: #0000FF;
		font-style: italic;
	}
	l {
		color: #C70039;
		font-weight: bold;
	}
	input.search-bar {
		font-weight: bold;
	}
	.form-control:focus {
	  border-color: #919191;
	  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(0, 0, 0, 0.6);
	}
{% endblock %}

{% block content %}

    <div class="container search">
      <form id="search" class="d-flex">
		  <input class="form-control search-bar" type="search" placeholder="Search" autocomplete="off" aria-label="Search" name="word">
		  <div class="btn-group" role="group">
			<input type="radio" class="btn-check" name="search_lang" id="log" value="log" autocomplete="off" onclick="this.blur();" checked>
			<label class="btn btn-outline-secondary custom-btn" for="log">L</label>
			<input type="radio" class="btn-check" name="search_lang" id="eng" value="eng" autocomplete="off" onclick="this.blur();">
			<label class="btn btn-outline-secondary custom-btn" for="eng">E</label>
		  </div>
      </form>
    </div>
    <div class="container word_data">
		<span id="word_data"></span>
    </div>

  <script>
    function addSubmit(ev) {
      ev.preventDefault();
      var request = new XMLHttpRequest();
      request.addEventListener('load', addShow);
      request.open('POST', {{ url_for('get_loglan_word')|tojson }});
      request.send(new FormData(this));
    }

    function addShow() {
      var data = JSON.parse(this.responseText);
      var span = document.getElementById('word_data');
      span.innerHTML = data.result;
    }

    var form = document.getElementById('search');
    form.addEventListener('submit', addSubmit);
  </script>
{% endblock %}